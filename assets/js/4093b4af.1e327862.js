"use strict";(self.webpackChunkcreate_mongonext_app_docs=self.webpackChunkcreate_mongonext_app_docs||[]).push([[6588],{8376:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>r,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"database/data-operations","title":"Data Operations","description":"MongoNext uses Mongoose to perform CRUD (Create, Read, Update, Delete) operations on MongoDB collections. This section covers how to interact with your data, validate input, handle errors, and ensure efficient database connections.","source":"@site/docs/database/data-operations.md","sourceDirName":"database","slug":"/database/data-operations","permalink":"/docs/database/data-operations","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/database/data-operations.md","tags":[],"version":"current","frontMatter":{"id":"data-operations","title":"Data Operations","sidebar_label":"\ud83d\udcbe Data Operations"},"sidebar":"tutorialSidebar","previous":{"title":"\ud83d\udcd3 Mongoose Models","permalink":"/docs/database/mongoose-models"},"next":{"title":"UI Components","permalink":"/docs/ui-components"}}');var t=a(4848),s=a(8453);const r={id:"data-operations",title:"Data Operations",sidebar_label:"\ud83d\udcbe Data Operations"},i="Data Operations",l={},d=[{value:"1. CRUD Operations",id:"1-crud-operations",level:2},{value:"Create",id:"create",level:3},{value:"Read",id:"read",level:3},{value:"Update",id:"update",level:3},{value:"Delete",id:"delete",level:3},{value:"2. Data Validation",id:"2-data-validation",level:2},{value:"3. Error Handling",id:"3-error-handling",level:2},{value:"4. Connection Pooling",id:"4-connection-pooling",level:2},{value:"5. Best Practices",id:"5-best-practices",level:2}];function c(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"data-operations",children:"Data Operations"})}),"\n",(0,t.jsx)(n.p,{children:"MongoNext uses Mongoose to perform CRUD (Create, Read, Update, Delete) operations on MongoDB collections. This section covers how to interact with your data, validate input, handle errors, and ensure efficient database connections."}),"\n",(0,t.jsx)(n.h2,{id:"1-crud-operations",children:"1. CRUD Operations"}),"\n",(0,t.jsx)(n.h3,{id:"create",children:"Create"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const product = new Product({ name: 'Shirt', price: 29.99 });\nawait product.save();\n"})}),"\n",(0,t.jsx)(n.h3,{id:"read",children:"Read"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const products = await Product.find({ category: 'clothing' });\n"})}),"\n",(0,t.jsx)(n.h3,{id:"update",children:"Update"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"await Product.updateOne({ _id: id }, { $set: { price: 24.99 } });\n"})}),"\n",(0,t.jsx)(n.h3,{id:"delete",children:"Delete"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"await Product.deleteOne({ _id: id });\n"})}),"\n",(0,t.jsx)(n.h2,{id:"2-data-validation",children:"2. Data Validation"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Use Mongoose schema validation for required fields, data types, and custom logic."}),"\n",(0,t.jsx)(n.li,{children:"Example:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const UserSchema = new mongoose.Schema({\n  email: { type: String, required: true, unique: true },\n  password: { type: String, required: true },\n});\n"})}),"\n",(0,t.jsx)(n.h2,{id:"3-error-handling",children:"3. Error Handling"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Always use try/catch blocks or ",(0,t.jsx)(n.code,{children:".catch()"})," for async operations."]}),"\n",(0,t.jsx)(n.li,{children:"Return meaningful error messages to the client, but avoid exposing sensitive details."}),"\n",(0,t.jsx)(n.li,{children:"Example:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"try {\n  const user = await User.create({ email, password });\n} catch (err) {\n  // Handle duplicate email, validation errors, etc.\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"4-connection-pooling",children:"4. Connection Pooling"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"MongoNext uses a single, shared Mongoose connection for efficiency."}),"\n",(0,t.jsxs)(n.li,{children:["The connection logic is typically in ",(0,t.jsx)(n.code,{children:"src/app/lib/db.js"})," or similar."]}),"\n",(0,t.jsx)(n.li,{children:"Example:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"import mongoose from 'mongoose';\n\nconst MONGODB_URI = process.env.MONGODB_URI;\n\nif (!global.mongoose) {\n  global.mongoose = mongoose.connect(MONGODB_URI, {\n    useNewUrlParser: true,\n    useUnifiedTopology: true,\n  });\n}\nexport default global.mongoose;\n"})}),"\n",(0,t.jsx)(n.h2,{id:"5-best-practices",children:"5. Best Practices"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Validate all input on both client and server."}),"\n",(0,t.jsx)(n.li,{children:"Use Mongoose middleware for pre-save hooks (e.g., password hashing)."}),"\n",(0,t.jsx)(n.li,{children:"Paginate large queries to improve performance."}),"\n",(0,t.jsx)(n.li,{children:"Use indexes for frequently queried fields."}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.p,{children:"With these patterns, you can build robust, scalable data operations in your MongoNext app."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.em,{children:"Coming soon!"})})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453:(e,n,a)=>{a.d(n,{R:()=>r,x:()=>i});var o=a(6540);const t={},s=o.createContext(t);function r(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);